<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="UTF-8">

<title>Heath's Blog of Stuff</title>

<link rel="image_src" href="http://www.gravatar.com/avatar/81f0b3e0c5da01fbeb0ca3743662f070?s=100"/>
<meta property="og:image" content="http://www.gravatar.com/avatar/81f0b3e0c5da01fbeb0ca3743662f070?s=100"/>

<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">

<meta name="author" content="Heath Anderson">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="shortcut icon" href="/favicon.ico">

<link rel="stylesheet" type="text/css" media="all" href="/css/main.css">

<link rel="openid2.provider" href="https://open.login.yahooapis.com/openid/op/auth" />
<link rel="openid.server"    href="https://open.login.yahooapis.com/openid/op/auth" />

<link rel="openid2.local_id" href="http://www.flickr.com/photos/heathanderson" />
<link rel="openid.delegate"  href="http://www.flickr.com/photos/heathanderson" />

<link rel="alternate" type="application/rss+xml" title="Heath's Blog of Stuff Feed" href="http://www.heathanderson.net/atom.xml">

<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="/css/iphone.css" type="text/css" />


</head>
<body>
  <header>
    <div class="headerWrapper">
  <div id="header">
    <a id="logo" title="Heath's Blog of Stuff" href="/"><img alt="Heath's Blog of Stuff" src="/images/logo.png"></a>
    <div id="categories_menu">
      <ul class="sf-menu sf-js-enabled">
        <li class="cat-item"><a href="/about.html">About</a></li>
  			<li class="cat-item"><a href="http://www.twitter.com/heathanderson">Twitter</a></li>
  			<li class="cat-item"><a href="http://www.facebook.com/heathanderson">Facebook</a></li>
  		</ul>
    </div>
  </div>
</div>
	</header>
	<div id="container">


		<div id="main" role="main">
            
  
    
    <h2>Saturday, August 27, 2011</h2>
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/27/s-jquery-plugins" rel="bookmark" title="Some Simple jQuery Plugins">Some Simple jQuery Plugins</a></h3>
     
     <p>Below are some really simple jQuery plugins that I've thrown together over the past couple of years that I've found useful.</p>
  
<p>Need to scroll to element with animation? Here you go:</p>

<div class="highlight"><pre><code class="javascript">  <span class="c1">// scroll to animation</span>
  <span class="c1">// example usage: $(&#39;.scroll_to_here&#39;).scrollTo();</span>

  <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">scrollTo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">speed</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">speed</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">){</span>
      <span class="nx">speed</span> <span class="o">=</span> <span class="s1">&#39;slow&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;html,body&#39;</span><span class="p">).</span><span class="nx">animate</span><span class="p">({</span><span class="nx">scrollTop</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span><span class="p">},</span><span class="nx">speed</span><span class="p">);</span>
  <span class="p">};</span>
</code></pre>
</div>


<p>Ajax polling is pretty easy with jQuery, but it is nice to have reusable function so you don't repeat yourself. The plugin below is based on another <a href="http://www.nickriggs.com/posts/simple-ajax-polling-plugin-for-jquery/">simple ajax polling plugin</a> that scales the amount of time between requests. This plugin uses a simple interval with a maximum number of attempts. </p>

<div class="highlight"><pre><code class="javascript">  <span class="c1">//Simple AJAX Polling jQuery Plugin</span>
  <span class="c1">// example usage:</span>
  <span class="cm">/* $.ajaxPoll({</span>
<span class="cm">          url: &quot;/path&quot;,</span>
<span class="cm">          type: &quot;GET&quot;,</span>
<span class="cm">          interval: 250,</span>
<span class="cm">          maxAttempts: 25,</span>
<span class="cm">          successCondition: function(result) {</span>
<span class="cm">              return result != &quot;processing&quot;; </span>
<span class="cm">          },</span>
<span class="cm">          success: function(data) {</span>
<span class="cm">              $(&#39;#container&#39;).replaceWith(data);</span>
<span class="cm">          }</span>
<span class="cm">      });</span>
<span class="cm">  */</span>

  <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxPoll</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">user_options</span><span class="p">){</span>

    <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">interval</span><span class="o">:</span> <span class="mi">30000</span><span class="p">,</span>
      <span class="nx">maxAttempts</span><span class="o">:</span> <span class="mi">15</span>
    <span class="p">}</span>
  
    <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">user_options</span><span class="p">);</span>
  
    <span class="kd">var</span> <span class="nx">attempts</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="nx">options</span><span class="p">.</span><span class="nx">success</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">status</span><span class="p">)</span> <span class="p">{</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">successCondition</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">successCallback</span><span class="p">){</span>
            <span class="nx">options</span><span class="p">.</span><span class="nx">successCallback</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">status</span><span class="p">);</span>
          <span class="p">}</span>          
          <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>
    
      <span class="nx">attempts</span><span class="o">++</span><span class="p">;</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">attempts</span> <span class="o">&gt;</span> <span class="nx">options</span><span class="p">.</span><span class="nx">maxAttempts</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>
    
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">},</span> <span class="nx">options</span><span class="p">.</span><span class="nx">interval</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre>
</div>


<p>The HTML5 placeholder attribute is awesome, but some browsers (IE and ... maybe just IE?) do not support it. Here is a jQuery plugin that solves that problem by clearing and restoring a field's placeholder value in browsers that don't handle that silliness for you.</p>

<div class="highlight"><pre><code class="javascript">  <span class="c1">// clears and restores a field&#39;s default value</span>
  <span class="c1">// example usage (js): $(&#39;input.has_default&#39;).hasDefaultValue();</span>
  <span class="c1">// example usage (html): &lt;input class=&quot;has_default&quot; placeholder=&quot;This is displayed by default&quot; type=&quot;text&quot;/&gt;</span>

  <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">hasDefaultValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">supports_input_placeholder</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">);</span>
      <span class="k">return</span> <span class="s1">&#39;placeholder&#39;</span> <span class="k">in</span> <span class="nx">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">supports_input_placeholder</span><span class="p">()){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span><span class="p">){</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;placeholder&quot;</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">});</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">focus</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;placeholder&quot;</span><span class="p">)){</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="p">}</span>
      <span class="p">})</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">blur</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;placeholder&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span><span class="p">){</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;placeholder&quot;</span><span class="p">);</span>
        <span class="p">}</span> 
      <span class="p">})</span>
    <span class="p">}</span>
  <span class="p">};</span>
</code></pre>
</div>


   </div>
   
      
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/27/roku-2" rel="bookmark" title="Roku 2">Roku 2</a></h3>
     
     <p><img src="https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-snc6/267388_642443302879_156802635_33181145_940406_n.jpg" alt="Roku 2 Box" class="shadow" />One month ago I got a <a href="http://www.roku.com/">Roku 2</a>. This was my fourth Roku. I bought a first generation Roku in June 2009 and I loved it. I eventually bought one for every TV in my house. My third box was the second generation Roku 1. It was much smaller than the first gen, had a better remote, and also had a cool little fabric tag on it. The Roku 2 follows in the second gen Roku 1's footsteps by being even smaller, having an even better remote, and still having the little purple tag.</p>

<p>A new feature of the Roku 2 is the ability to play games. The only game that I've tried is the included Angry Birds. It's a good version of the game, and the motion controls are surprisingly good. But, for me, gaming on the Roku is just a nice secondary feature. I think I'll stick to either my Xbox, Playstation or Wii for the majority of game playing.</p>

<img src="https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-snc6/s960x960/216789_642443327829_156802635_33181146_2007203_n.jpg" alt="The Roku 2 is small" class="shadow" />

<p>The best thing about the Roku is the number of 'channels' available.  There is one for <a href="http://www.netflix.com">Netflix</a>, <a href="http://www.amazon.com/Instant-Video/b/ref=sa_menu_aiv_vid0?ie=UTF8&node=2858778011">Amazon Instant Video</a>, <a href="http://www.hulu.com">Hulu</a>, and <a href="http://www.roku.com/roku-channel-store">many more</a>. The first generation boxes seem to have some trouble with channels like Hulu that sport a flashy interface. The Roku 2 doesn't have this problem. This is definitely the best Roku yet.</p>



   </div>
   
      
  
    
    <h2>Monday, August 22, 2011</h2>
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/22/minimalist-business-card" rel="bookmark" title="Minimalist Business Card">Minimalist Business Card</a></h3>
     
     <p><img class="shadow" src="/images/borismus_business_card.png" alt="Boris Smus' Business Card" /> I came across the <a href="http://smus.com/minimal-business-card-design">business card</a> to the left via <a href="http://boingboing.net/2011/08/22/ultraminimalist-business-card.html">Boing Boing</a>. Even though the original post is over one year old, it inspired me to try to design a simple business card (although I suppose it is more of a calling card). Graphic design is one of my weaker skills so I like to practice when I can. My take on the concept is below: </p>

<img src="/images/card.png" class="shadow" alt="My Business Card" />

<p>I kind of like it. I ordered twenty from <a href="http://www.zazzle.com/">Zazzle</a> for $7 just to see what they look like printed on actual paper.</p>
   </div>
   
      
  
    
    <h2>Sunday, August 21, 2011</h2>
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/21/bastion" rel="bookmark" title="Bastion">Bastion</a></h3>
     
     <p><img class="shadow" src="/images/posts/bastion/bastion_1.jpg" alt="Bastion Screenshot"/>I've been playing <a href="http://supergiantgames.com/">Bastion</a> for the Xbox 360. I love this game. The art is great, the dynamic narration is unlike anything I've ever seen in a game before, and the music is amazing. The game narrates the main character's actions while you play--a feature that would certainly be annoying if poorly executed. Luckily here it is wonderfully done. The narrator simultaneously injects both humor and a sense of weight to the story. The music is great and evocative. I even <a href="http://supergiantgames.bandcamp.com/">bought</a> the soundtrack.</p>

<img class="shadow" src="/images/posts/bastion/bastion_2.jpg" alt="Bastion Screenshot"/>

<p>And on top of all that the game is really fun. Every weapon featured in the game is fun, looks cool and is useful. I'm starting my second play through and I'm looking forward to experimenting with some of the weapons that I only briefly used on my first try.</p>

<p>Bastion is one of the best games I've played this year. If you have a 360 <a href="http://marketplace.xbox.com/en-US/Product/Bastion/66acd000-77fe-1000-9115-d80258410b66">download</a> the Bastion demo and give it a try. </p>
<object style="height: 366px; width: 640px"><param name="movie" value="http://www.youtube.com/v/TptJHeWngJs?version=3"><param name="allowFullScreen" value="true"><param name="allowScriptAccess" value="always"><embed src="http://www.youtube.com/v/TptJHeWngJs?version=3" type="application/x-shockwave-flash" allowfullscreen="true" allowScriptAccess="always" width="600" height="366"></object>
   </div>
   
      
  
    
    <h2>Sunday, August 14, 2011</h2>
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/14/1-automating-new-post-creation-in-jekyll" rel="bookmark" title="Automating New Post Creation in Jekyll">Automating New Post Creation in Jekyll</a></h3>
     
     <p>After automating deployment, my next goal was to automate creating a new post. After looking around a bit I decided to slightly modify the rake task used by <a href="https://github.com/imathis/octopress">Octopress</a>, a Jekyll based blogging framework. </p>

<div class="highlight"><pre><code class="ruby">  <span class="c1"># adapted from https://github.com/imathis/octopress/blob/master/Rakefile   </span>
  <span class="c1"># usage rake new_post[&#39;My New Post&#39;] or rake new_post (defaults to &quot;My New Post&quot;)</span>
  <span class="n">desc</span> <span class="s2">&quot;Start a new post&quot;</span>
  <span class="n">task</span> <span class="ss">:new_post</span><span class="p">,</span> <span class="ss">:title</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="p">,</span> <span class="n">args</span><span class="o">|</span>
   <span class="n">args</span><span class="o">.</span><span class="n">with_defaults</span><span class="p">(</span><span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s1">&#39;My New Post&#39;</span><span class="p">)</span>
   <span class="n">title</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">title</span>
   <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;_posts/</span><span class="si">#{</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">-</span><span class="si">#{</span><span class="n">title</span><span class="o">.</span><span class="n">downcase</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/&amp;/</span><span class="p">,</span><span class="s1">&#39;and&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/[,&#39;&quot;:\?!\(\)\[\]]/</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/[\W\.]/</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/-+$/</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.html&quot;</span>
   <span class="nb">puts</span> <span class="s2">&quot;Creating new post: </span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
   <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span>
     <span class="nb">system</span> <span class="s2">&quot;mkdir -p _posts&quot;</span><span class="p">;</span>
     <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;---&quot;</span>
     <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;layout: post&quot;</span>
     <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;title: </span><span class="se">\&quot;</span><span class="si">#{</span><span class="n">title</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/&amp;/</span><span class="p">,</span><span class="s1">&#39;&amp;amp;&#39;</span><span class="p">)</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
     <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;date: </span><span class="si">#{</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d %H:%M&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
     <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;published: false&quot;</span>
     <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;---&quot;</span>
   <span class="k">end</span>
  <span class="k">end</span>
</code></pre>
</div>


<p>Now that the above is in my <a href="https://github.com/handerson/heathanderson.net/blob/master/rakefile.rb">rakefile</a>, I'm just a <code>rake new_post['This is Awesome']</code> away from starting a new post.
   </div>
   
      
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/14/0-deploying-jekyll" rel="bookmark" title="Deploying a Jekyll Site to Amazon S3">Deploying a Jekyll Site to Amazon S3</a></h3>
     
     <p>Before moving my blog to Amazon S3 I wanted to make sure that I could deploy updates easily. I came across several ways to do it. The easiest method I found was in a <a href="http://blog.hendrikvolkmer.de/2011/02/25/moving-from-wordpress-on-a-vps-to-jekyll-and-amazon-s3/">blog post</a> by <a href="http://blog.hendrikvolkmer.de/about/">Hendrik Volkmer</a>. It uses a command line tool called <code>s3cmd</code> run through a rake task. <a href="http://s3tools.org/s3cmd">s3cmd</a> can be installed using <a href="http://mxcl.github.com/homebrew/">Homebrew</a> on Mac OS X. </p>
  
<div class="highlight"><pre><code class="bash"> brew install s3cmd
</code></pre>
</div>


<p>I updated the rake task to use S3's reduced <a href="https://aws.amazon.com/about-aws/whats-new/2010/05/19/announcing-amazon-s3-reduced-redundancy-storage/">redundancy storage</a> and set an <a href="https://developer.yahoo.com/performance/rules.html#expires">Expires header</a> for my images by using s3cmd's <code>--reduced-redundancy</code>, <code>--exclude</code>, and <code>--add-header</code> options. You can find out about other <code>s3smd</code> options on the <a href="http://s3tools.org/s3cmd-sync">s3tools website</a>.</p>

<div class="highlight"><pre><code class="ruby">  <span class="c1"># based on http://blog.hendrikvolkmer.de/2011/02/25/moving-from-wordpress-on-a-vps-to-jekyll-and-amazon-s3/</span>
  <span class="n">task</span> <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="ss">:deploy</span>

  <span class="n">desc</span> <span class="s2">&quot;Deploy to S3&quot;</span>
  <span class="n">task</span> <span class="ss">:deploy</span> <span class="k">do</span>
    <span class="n">sh</span> <span class="s2">&quot;jekyll&quot;</span>
    <span class="n">sh</span> <span class="s2">&quot;s3cmd sync --reduced-redundancy --exclude &#39;images/*&#39; _site/* s3://www.heathanderson.net&quot;</span>
    <span class="n">sh</span> <span class="s2">&quot;s3cmd sync --reduced-redundancy --add-header &#39;Expires: Thu, 6 Feb 2020 00:00:00 GMT&#39; _site/images/* s3://www.heathanderson.net/images/&quot;</span>
  <span class="k">end</span>
</code></pre>
</div>


<p>After placing the above in a <a href="https://github.com/handerson/heathanderson.net/blob/master/rakefile.rb">rakefile</a> all I have to do is run the following to publish a new post or deploy any other changes:</p>

<div class="highlight"><pre><code class="bash"> rake deploy
</code></pre>
</div>

   </div>
   
      
  
    
    <h2>Saturday, August 13, 2011</h2>
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/13/why-amazon-s3" rel="bookmark" title="Why Amazon S3?">Why Amazon S3?</a></h3>
     
     <p>The main reason for switching to S3 as a host for this site was cost. This blog gets almost no traffic so I anticipate my monthly S3 bill to be less than $1 USD. That is pretty cheap. I was previously using a VPS from <a href="http://www.linode.com">Linode</a>. It was $19.99 a month. I love Linode, and next time I need a VPS I will go with them. But it was overkill for this blog. I was simply serving static HTML from Apache.</p>

<img class="shadow" src="/images/posts/s3calc.png" alt="Simple Monthly Calculator"/>
<p>Using Amazon's <a href="http://calculator.s3.amazonaws.com/calc5.html">Simple Monthly Calculator</a> I estimate that even if this site gets a couple orders of magnitude more popular, I'll still be paying less than $4.00 a month.</p>

<p>I also no longer have to worry about server security and server uptime. Those are two pretty big pluses.</p>
   </div>
   
      
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/13/using-amazon-s3-for-hosting" rel="bookmark" title="Using Amazon S3 for Hosting">Using Amazon S3 for Hosting</a></h3>
     
     <p>Earlier this year Amazon S3 was <a href="https://aws.amazon.com/about-aws/whats-new/2011/02/17/Amazon-S3-Website-Features/">updated</a> to more easily support hosting static websites. The full <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?WebsiteHosting.html">documentation</a> is online, but I'll give a quick overview of how it works here.</p>

<img class="shadow" src="/images/posts/create_bucket.png" alt="Create a bucket"/>

<p>The first step was to create a bucket. The only way I could get the DNS CNAME record (more on that in a minute) for my domain to actually point to the correct bucket was to name the bucket the same as the domain. I didn't see this mentioned anywhere in the documentation so perhaps I was doing something incorrectly.</p>

<img class="shadow" src="/images/posts/website_tab.png" alt="Website Tab"/>

<p>The new 'Website' tab what makes hosting a site possibility. All that needs to be done here is click the 'Enable' checkbox and tell S3 what the site's index document (usually index.html) and error document (usually 404.html) are. Also note the endpoint url--it is needed when setting up the DNS.</p>

<img class="shadow" src="/images/posts/edit_policy.png" alt="Edit Edit"/>

<p>Another thing that needed to be done is setting the policy so that others can actually view the site. This is found on the properties menu in the S3 management console for your website's bucket and go to the permissions tab. The 'Edit buck policy' button brings up a text area where I pasted the following (found in the <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?WebsiteHosting.html">documentation</a>):</p>

<div class="highlight"><pre><code class="js">  <span class="p">{</span>
    <span class="s2">&quot;Version&quot;</span><span class="o">:</span> <span class="s2">&quot;2008-10-17&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Id&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Statement&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;Sid&quot;</span><span class="o">:</span> <span class="s2">&quot;PublicReadGetObject&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Effect&quot;</span><span class="o">:</span> <span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Principal&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;AWS&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;Action&quot;</span><span class="o">:</span> <span class="s2">&quot;s3:GetObject&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Resource&quot;</span><span class="o">:</span> <span class="s2">&quot;arn:aws:s3:::www.heathanderson.net/*&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
</code></pre>
</div>


<p>After copying my site to the buck and testing the endpoint URL in my browser, I was ready to set up my domain to point to my new host.</p>

<img class="shadow" src="/images/posts/dns.png" alt="Edit DNS"/>

<p>Setting up the DNS was easy. All it takes is setting the root domain to forward to the www subdomain, and setting up a CNAME alias for the www subdomain to the endpoint from the 'Website' tab of the Amazon S3 management console.</p>

<p>The only problem that I had was when I initially named my bucket 'blogofheath'. I followed all the steps listed above, but when trying to visit the site from <a href="http://www.heathanderson.net">www.heathanderson.net</a> I kept getting an error. Apparently Amazon was to to serve a bucket named 'www.heathanderson.net' and since that bucket didn't exist things were not working. So I created a new bucket (renaming buckets isn't allowed), named it the same as my domain, and went through the same steps. Then it worked. Any ideas?</p>
   </div>
   
      
  
    
    <h2>Wednesday, August 10, 2011</h2>
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/10/adding-search" rel="bookmark" title="Simple Search">Simple Search</a></h3>
     
     <p>I often come across interesting ideas and tools that I have no current use for but seem like they may be useful someday, so I bookmark them and hope I will recall them when needed. That process is what led to the current implementation of site search located at the bottom of each page on this blog.</p>

<p>At some point I came across an <a href="http://googlewebmastercentral.blogspot.com/2008/08/make-your-404-pages-more-useful.html">article</a> on the the Google Webmaster Central Blog about <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=136085">enhancing</a> a site's 404 page. I thought it was a pretty cool idea, and I'm <a href="/404.html">using</a> it on this site. The required code is very short:</p>

<div class="highlight"><pre><code class="html"> <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
	<span class="kd">var</span> <span class="nx">GOOG_FIXURL_LANG</span> <span class="o">=</span> <span class="s1">&#39;en&#39;</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">GOOG_FIXURL_SITE</span> <span class="o">=</span> <span class="s1">&#39;http://www.example.com&#39;</span>
 <span class="nt">&lt;/script&gt;</span>
 <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span>
	<span class="na">src=</span><span class="s">&quot;http://linkhelp.clients.google.com/tbproxy/lh/wm/fixurl.js&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;/script&gt;</span>
</code></pre>
</div>


<p>The most interesting thing about it is that it adds a search form. It doesn't actually submit a form. It simply changes the current page's location to "http://www.google.com/search?q=site:www.heathanderson.net" (with the text from the text box appended) using JavaScript. This limits the Google search to (in this case) pages from my site. It is a really simple concept that I would like to think I would of eventually thought of (but probably wouldn't have). </p>

<p>When I needed a search for this site I decided to try this technique. So here it is, a simple search script:

<div class="highlight"><pre><code class="html"> <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
	<span class="kd">function</span> <span class="nx">simpleSearch</span><span class="p">(</span><span class="nx">form</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">q</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">form</span><span class="p">[</span><span class="s2">&quot;q&quot;</span><span class="p">].</span><span class="nx">value</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;http://www.google.com/search?q=site:www.heathanderson.net &quot;</span><span class="p">;</span>
		<span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span> <span class="o">+</span> <span class="nx">q</span><span class="p">;</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>

 <span class="nt">&lt;/script&gt;</span>
 
 <span class="nt">&lt;noscript&gt;</span>
  You can search this site using <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://www.google.com/search?q=site:www.heathanderson.net&quot;</span><span class="nt">&gt;</span>Google<span class="nt">&lt;/a&gt;</span>.
 <span class="nt">&lt;/noscript&gt;</span>
 
 <span class="nt">&lt;form</span> <span class="na">onsubmit=</span><span class="s">&quot;return simpleSearch(this)&quot;</span> <span class="na">method=</span><span class="s">&quot;get&quot;</span> <span class="na">id=</span><span class="s">&quot;searchForm&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">size=</span><span class="s">&quot;40&quot;</span> <span class="na">name=</span><span class="s">&quot;q&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Search this site...&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Search&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>


<p>I could have created the form element in JavaScript and appended it to the page, but that seemed more complicated than necessary. I also could have used an event handler instead of the inline onsubmit attribute, but again I point to the complexity. This way avoids most cross-browser pitfalls, and has the advantage of simplicity. I also added a link to Google inside a noscript tag for people that have JavaScript disabled.</p>

   </div>
   
      
  
    
    <h2>Friday, August 05, 2011</h2>
          
   
   <div class="post">
     <h3>&#x270d; <a href="/2011/08/05/another-blog-redesign" rel="bookmark" title="Another Blog Redesign">Another Blog Redesign</a></h3>
     
     <p><img class="shadow" alt="HTML5 banner" src="http://www.heathanderson.net/images/posts/HTML5_sticker.png" />I've decided to change the design of the this blog once again. I've radically simplified the site. The side bar is gone. The comment section is gone. Pretty much all the JavaScript is gone (the exception being the search box at the bottom of each page). The site is now <a href="http://www.w3.org/html/logo/">HTML5</a>--no more XHTML.</p>

<p>I am still using <a href="http://jekyllrb.com/">Jekyll</a> to generate the HTML files of the site. I love the simplicity of it. I'm hosting the site on <a href="http://aws.amazon.com/s3/">Amazon S3</a>. It is fast, cheap and maintenance free. </p>

<p>I hope this new, streamlined version of my site will encourage me to post more. I guess we'll see.</p>
   </div>
   

		
<div id="pagination"> 
	
  <span class="disabled_pagination">Prev</span>
	
	
	
	<a href="/page2">Next</a>
	
</div>
		



		</div>

		<footer>
      <div id="footer" class="small">
  <form onsubmit="return simpleSearch(this)" method="get" id="searchForm" style="display:none">
    <input type="search" name="q" placeholder="Search this site..." > 
    <!--[if IE ]>
    <input type="submit" value="Search">
    <![endif]-->
  </form>
  <noscript>
  	You can search this site using <a href="http://www.google.com/search?q=site:www.heathanderson.net">Google</a>.<br/>
  </noscript>

<script type="text/javascript">
function simpleSearch(form) {
  var q = window.encodeURIComponent(form["q"].value);
  var url = "http://www.google.com/search?q=site:www.heathanderson.net ";
  url = url + q;
  window.location = url;
  return false;
}

document.getElementById('searchForm').style.display = "block";
</script>

Subscribe to the <a href="/atom.xml">RSS feed</a> or <a href="http://www.twitter.com/heathanderson">follow me on twitter</a><br/>

Copyright &copy; Heath Anderson | <a href="/privacy.html">Privacy Policy</a><br/>

<a href="http://www.w3.org/html/logo/"><img src="/images/html5-badge.png" alt="HTML5 Badge" class="badge"/></a><br/>

<a title="Real Time Analytics" href="http://getclicky.com/66465306"><img alt="Real Time Analytics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>

<script type="text/javascript">
var clicky_custom = {};
clicky_custom.cookies_disable = 1;

var clicky_site_ids = clicky_site_ids || [];
clicky_site_ids.push(66465306);
(function() {
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//static.getclicky.com/js';
  ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
})();
</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/66465306ns.gif" /></p></noscript>

</div>



<!-- Prompt IE 6 users to install Chrome Frame. Idea from http://html5boilerplate.com.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
  <!--[if lt IE 7 ]>
    <script defer src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script defer>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->

		</footer>
	</div>
</body>
</html>
